<!DOCTYPE HTML>
<html lang="es" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<meta charset="utf-8" name="viewport"
		content="width=device-width, initial-scale=1"
		http-equiv="X-UA-Conpatible" />
	<title>JavaEE-09MyCRUD-JPA-JSF-Hibernate</title>
	<h:outputStylesheet library="css" name="styleIndex.css"  />
</h:head>
<h:body>
<!--Esto es un JSF(JavaServer Faces).
 *-JSF(JavaServer Faces) es un framework MVC(Modelo-Vista-Controlador) basado en el API de Servlets que proporciona un 
   conjunto de componentes en forma de etiquetas definidas en páginas XHTML con el fin de simplificar el desarrollo de 
   interfaces de usuario.
 *-JSF(JavaServer Faces) utiliza las páginas Facelets como vista, objetos Javabean como modelos y métodos de esos 
   objetos como controladores.
 *-El servlet FacesServlet realiza toda la tediosa tarea de procesar las peticiones HTTP, obtener los datos de entrada, 
   validarlos y convertirlos, colocarlos en los objetos del modelo, invocar las acciones del controlador y renderizar la 
   respuesta utilizando el árbol de componentes.
 *-Para hacer uso de los componentes JSF declaramos namespace al inicio de este archivo(xmlns:h, xmlns:f).
 *-Todos los componentes de tipo JSF comienzan con el prefijo <h o <f.
  -<h:tags o etiquetas HTML.
  -<f:etiquetas “core” usadas para manejo de eventos, atributos, validación, conversión de datos, administración de 
  	  componentes entre otros.

 *-Atributos de las etiquetas:
  -value: Cadena de texto que se mostrara. 
  -var: Crea una variable que va almacenar cada objeto que viene en la lista que retorna en el metodo que se llamo en
		la propiedad value.-->

	<h2 class="titulo">
		<h:outputText value="Lista Clientes"></h:outputText>
	</h2>
	<h:form>
		<h:dataTable value="#{clienteBean.obtenerClientes()}" var="cliente" styleClass="tabla">
			<h:column>
				<!-- Titulo de la Cabecera -->
				<f:facet name="header">Id</f:facet>
				<h:outputText value="#{cliente.id}"></h:outputText>
			</h:column>

			<h:column>
				<!-- Titulo de la Cabecera -->
				<f:facet name="header">Nombre</f:facet>
				<h:outputText value="#{cliente.nombre}"></h:outputText>
			</h:column>

			<h:column>
				<!-- Titulo de la Cabecera -->
				<f:facet name="header">Apellidos</f:facet>
				<h:outputText value="#{cliente.apellido}"></h:outputText>
			</h:column>

			<h:column>
				<!-- Titulo de la Cabecera -->
				<f:facet name="header">Direccion</f:facet>
				<h:outputText value="#{cliente.direccion}"></h:outputText>
			</h:column>

			<h:column>
				<!-- Titulo de la Cabecera -->
				<f:facet name="header">Email</f:facet>
				<h:outputText value="#{cliente.email}"></h:outputText>
			</h:column>

			<h:column>
				<!-- Titulo de la Cabecera -->
				<f:facet name="header">Telefono</f:facet>
				<h:outputText value="#{cliente.telefono}"></h:outputText>
			</h:column>

			<h:column>
				<!-- Titulo de la Cabecera -->
				<f:facet name="header">F. Registro</f:facet>
				<h:outputText value="#{cliente.fecha_registro}"></h:outputText>
			</h:column>

			<h:column>
				<!-- Titulo de la Cabecera -->
				<f:facet name="header">F. Actualizar</f:facet>
				<h:outputText value="#{cliente.fecha_actualizacion}"></h:outputText>
			</h:column>

			<h:column>
				<!-- Titulo de la Cabecera -->
				<f:facet name="header">Editar</f:facet>
				<h:commandButton action="#{clienteBean.editar(cliente.id)}" value="Editar" styleClass="btnEditar"></h:commandButton>
			</h:column>
			
			<h:column>
				<!-- Titulo de la Cabecera -->
				<f:facet name="header">Eliminar</f:facet>
				<h:commandButton action="#{clienteBean.eliminar(cliente.id)}" onclick="return confirm('¿Estas seguro?')" value="Eliminar" styleClass="btnEliminar"></h:commandButton>
			</h:column>
		</h:dataTable>
		<h:commandButton styleClass="btnNuevo" action="#{clienteBean.nuevo()}" value="Nuevo Cliente"></h:commandButton>
	</h:form>
</h:body>
</html>